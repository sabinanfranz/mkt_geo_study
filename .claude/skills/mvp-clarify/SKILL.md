---
name: mvp-clarify
description: "1~2문단 러프 기획을 구현 가능한 MVP로 만들기 위한 \"10개의 본질 질문\"을 생성하고, 답변을 받아 정리본을 만든다."
argument-hint: "[paste-brief]"
disable-model-invocation: true
allowed-tools:
  - Read
  - Write
---

# /mvp-clarify — 러프 기획 → 10개 본질 질문 → 구체화 정리

## 입력 처리

- `$ARGUMENTS`를 "러프 기획 원문"으로 취급한다.
- `$ARGUMENTS`가 비어 있으면 아래 한 줄만 출력하고 **즉시 종료**한다:
  ```
  기획을 1~2문단으로 붙여주세요. 예: /mvp-clarify 반려동물 산책 일지를 기록하고 통계를 보여주는 웹앱
  ```

---

## 1단계: 질문 생성 (첫 응답)

첫 응답에서는 **질문만** 출력한다. 설명·요약·코멘트를 추가하지 않는다.

### 질문 규칙

- 정확히 **10개**. 9개도 11개도 안 된다.
- 한 질문에 핵심 **1개만** 묻는다. 복합 질문 금지.
- **답변하기 쉬운 형태**: 선택지·숫자·예시 포맷을 포함한다.
- 각 질문 아래에 `답: (예시) …` 형태의 답변 템플릿 1줄을 붙인다.

### 질문 커버리지 (10개에 반드시 포함)

| # | 반드시 다뤄야 할 주제 |
|---|----------------------|
| 1 | 타깃 사용자/직무 (1차 수혜자) |
| 2 | 해결하려는 문제 / 기존 대안 |
| 3 | 핵심 유저 플로우 (시작→끝) |
| 4 | MVP 필수 기능 3개 (우선순위) |
| 5 | 비범위(Out of scope) / 하지 않을 것 |
| 6 | 데이터/엔티티 (저장해야 하는 것, SQLite 기준) |
| 7 | 권한/로그인/멀티유저 필요 여부 |
| 8 | LLM 사용 위치 (결정/생성/요약 등) + 허용 가능한 오류 수준 |
| 9 | 비기능 요구 (성능/보안/프라이버시/감사 로그) |
| 10 | 성공 기준 (측정 지표) + 1차 데모 마감 (언제까지 무엇이 되면 성공인지) |

### 출력 형식

```
1. {질문}
   답: (예시) …

2. {질문}
   답: (예시) …

…

10. {질문}
    답: (예시) …

답을 1~10번 번호로 그대로 reply 하면, 내가 docs/06-clarified-brief.md로 정리하고 다음 단계(기획→디자인→개발)로 넘어가겠습니다.
```

### 파일 저장 (질문 출력과 동시에 수행)

1. `docs/00-brief.md` — 러프 기획 원문을 저장한다. 기존 내용이 있으면 덮어쓴다.
2. `docs/05-clarify-questions.md` — 아래 섹션을 포함하여 생성한다:

```markdown
# Clarify Questions

## Raw brief

{러프 기획 원문}

## 10 Clarifying Questions

{출력한 질문 10개 전문}

## Answer template

1.
2.
3.
4.
5.
6.
7.
8.
9.
10.
```

---

## 2단계: 답변 수신 → 정리본 생성 (다음 메시지)

사용자가 1~10에 대한 답을 보내면(형식이 완벽하지 않아도 최대한 매핑), 아래를 수행한다. **추가 질문을 새로 만들지 않는다.** 정말로 막히는 경우에만 추가 질문 최대 2개를 허용한다.

### 2-1. `docs/06-clarified-brief.md` 생성

아래 섹션을 포함한다:

```markdown
# Clarified Brief

## 요약
{1문단 요약}

## 타깃 · 문제 · 핵심가치
- 타깃:
- 문제:
- 핵심가치:

## MVP 범위 (우선순위 포함)
1.
2.
3.

## Out of scope
-

## 데이터 모델 (엔티티 목록)
| 엔티티 | 주요 필드 | 비고 |
|--------|----------|------|
| | | |

## API 초안
| Method | Endpoint | 설명 |
|--------|----------|------|
| | | |

## LLM 사용 위치
- 사용 여부:
- 용도:
- 허용 오류 수준:

## 성공 기준 + 데모 정의
- 지표:
- 데모 마감:
- 데모 정의:

## Open Questions (남은 불확실성, 최대 5개)
1.
```

### 2-2. `docs/90-log.md` 업데이트

파일 끝에 아래 형식으로 5줄 이내를 추가한다 (기존 내용 보존, append가 어렵다면 전체 재작성 가능):

```markdown
### mvp-clarify ({날짜})
- 결정: …
- 가정: …
- 다음 행동: …
```

### 2-3. 다음 단계 안내 (마지막 출력)

```
다음 단계 추천:
(A) /mvp-new 에 clarified brief를 넣어 기획/UX/아키텍처/백로그를 생성
(B) claude --agent mvp-coordinator 로 MODE=PLAN 실행
```

---

## 규칙

- 코드 파일(`apps/`)은 생성하지 않는다. 문서만 작성한다.
- 시크릿(.env, API 키)을 출력하거나 요청하지 않는다.
