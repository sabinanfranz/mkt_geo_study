# 33 — Visual Design Summary

## 개요

GEO 학습 콘텐츠의 교육용 도식을 텍스트 기반에서 인터랙티브 HTML/CSS 컴포넌트로 업그레이드하는 전체 계획 요약.

---

## 1. 현황 분석

### 1.1 전수조사 결과 (67개 도식)

```
전체: 67개
├─ 완전시각화 (기존 6종 컴포넌트): 40개 ✓
├─ 부분시각화 (diagram-box + ASCII): 8개 △
└─ 미시각화 (순수 마크다운/텍스트): 19개 ✗
   ├─ 마크다운 테이블: 9개
   ├─ ASCII 플로우차트: 5개
   ├─ ASCII 피라미드/계층: 5개
   └─ 기타 구조: 3개
```

### 1.2 기존 6종 CSS 컴포넌트

| # | 컴포넌트 | 사용 | 상태 |
|----|---------|------|------|
| 1 | `.browser-mockup` | 4회 | ✓ |
| 2 | `.compare-cards` | 11회 | ✓ |
| 3 | `.diagram-box` | 9회 | ✓ |
| 4 | `.callout` | 8회 | ✓ 클래스 불일치 2개 |
| 5 | `.code-example` | 6회 | ✓ 클래스 불일치 1개 |
| 6 | `.hierarchy-box` | 2회 | ✓ |

### 1.3 CSS 클래스 불일치 (6건)

| # | seed.py | style.css | 영향 | 우선순위 |
|---|---------|-----------|------|---------|
| 1 | `.callout-title` | 미정의 | 렌더링 깨짐 | P1 |
| 2 | `.callout-body` | 미정의 | 렌더링 깨짐 | P1 |
| 3 | `.browser-header` | `.browser-bar` | 클래스 불일치 | P1 |
| 4 | `.code-title` | `.code-label` | 클래스 불일치 | P1 |
| 5 | `.browser-dot` | `.dot.r/y/g` | — (올바름) | — |
| 6 | `.diagram-content` | 미정의 | 기능 영향 없음 | P2 |

---

## 2. 설계 결과: 신규 6종 CSS 컴포넌트

### 2.1 컴포넌트 매트릭스

| 컴포넌트 | 용도 | 포함 항목 | 라인 | 다크모드 | 반응형 |
|---------|------|---------|------|---------|--------|
| `.comparison-table` | 다중열 비교표 | A 카테고리 9개 | 50+30 | ✓ | ✓ |
| `.flow-chart` | 수직 플로우 | B 카테고리 5개 | 70+40 | ✓ | ✓ |
| `.pyramid-chart` | 피라미드 시각화 | C 카테고리 2개 | 60+35 | ✓ | ✓ |
| `.tree-diagram` | 계층형 트리 | C, D, E 카테고리 8개 | 55+30 | ✓ | ✓ |
| `.layer-box` | 수직 레이어 스택 | D 카테고리 3개 | 50+25 | ✓ | ✓ |
| `.network-diagram` | 네트워크 토폴로지 | D 카테고리 1개 | 45+25 | ✓ | ✓ |
| **합계** | **6종** | **28개** | **515줄** | **6/6** | **6/6** |

### 2.2 기술 스펙

**라이트 모드:**
- 배경: `#fff` (카드) 또는 `#f8f9ff` (컨테이너)
- 텍스트: `#333` (본문) / `#666` (보조)
- 강조: `#1a73e8` (파란색) / `#34a853` (초록색) / `#ea4335` (빨간색)

**다크모드:**
- 배경: `#0f3460` (카드) 또는 `#0f1a30` (컨테이너)
- 텍스트: `#d0d0d0` (본문) / `#b0b0b0` (보조)
- 강조: `#60a5fa` (파란색) / `#34a853` (초록색, 유지) / `#ea4335` (빨간색, 유지)

**색상 대비도:** WCAG AA (4.5:1) 이상

**반응형:**
- 데스크톱 (800px): 원본 레이아웃
- 태블릿 (600px): 일부 구조 변경 (테이블 스크롤, 그리드 축소)
- 모바일: MVP에서 제외

---

## 3. 마이그레이션 계획 (4 Phase)

### 3.1 Phase 1: CSS 클래스 불일치 즉시 수정 (30분)

**작업:**
```
1. style.css: .callout-title, .callout-body 정의 추가 (10줄)
2. seed.py: .browser-header → .browser-bar (1줄)
3. seed.py: .code-title → .code-label (2줄)
4. 테스트: 페이지 렌더링 확인
```

**결과:** 즉각적 렌더링 개선

---

### 3.2 Phase 2: 신규 CSS 작성 (2시간)

**작업:**
```
1. /apps/web/css/style.css 끝에 6개 컴포넌트 CSS 추가 (515줄)
   - 라이트 모드: 330줄
   - 다크 모드: 185줄
2. 각 컴포넌트 테스트:
   - 라이트 모드 렌더링 ✓
   - 다크 모드 렌더링 ✓
   - 반응형 레이아웃 ✓
```

**결과:** CSS 준비 완료

---

### 3.3 Phase 3: seed.py 마이그레이션 (6시간)

**마이그레이션 항목 (34개):**

| 우선순위 | 컴포넌트 | 항목 수 | 시간 |
|---------|---------|--------|------|
| P2 | .comparison-table | 9개 | 2시간 |
| P2 | .flow-chart | 5개 | 1.5시간 |
| P2 | .layer-box | 3개 | 1시간 |
| P3 | .pyramid-chart | 5개 | 1.5시간 |
| P3 | .tree-diagram | 8개 | 2시간 |
| P3 | .network-diagram | 1개 | 30분 |
| P1 | 클래스명 정정 | 3개 | 30분 |
| **합계** | — | **34개** | **8.5시간** |

**결과:** 모든 미시각화 항목 HTML/CSS 컴포넌트로 변환

---

### 3.4 Phase 4: 통합 테스트 (1시간)

**테스트:**
```
1. 렌더링 테스트
   - 모든 Stage/Module 페이지 로드
   - 콘솔 에러 없음
   - 레이아웃 깨짐 없음

2. 다크모드 검증
   - Theme toggle 동작
   - 색상 대비도 (WCAG AA 이상)
   - 가독성 확인

3. 반응형 확인
   - 600px, 768px, 1024px 너비 테스트
   - 스크롤 가능성 확인

4. 성능 측정
   - 페이지 로드 시간 < 3초
   - 렌더링 성능 (paint < 100ms)
```

**결과:** 모든 항목 통합 검증 완료

---

## 4. 작업 규모 추정

### 4.1 CSS 추가

| 항목 | 줄 수 | 파일 |
|------|------|------|
| Phase 1: 클래스 수정 | +18줄 | style.css |
| Phase 2: 신규 컴포넌트 | +515줄 | style.css |
| **합계** | **+533줄** | — |

**최종 style.css:**
- Before: ~1950줄
- After: ~2483줄
- 증가율: +27%

### 4.2 seed.py 수정

| 항목 | 항목 수 | 형식 |
|------|--------|------|
| 마크다운 테이블 → HTML 테이블 | 9개 | 구조적 변경 |
| ASCII 플로우 → HTML 스텝 박스 | 5개 | 구조적 변경 |
| ASCII 피라미드 → HTML 레이어 | 5개 | 구조적 변경 |
| 기타 계층/구조 → HTML 컴포넌트 | 8개 | 구조적 변경 |
| 기타 구조도 → HTML 네트워크 | 1개 | 구조적 변경 |
| 클래스명 정정 | 3개 | 클래스 이름 변경 |
| **합계** | **34개** | — |

**코드 영향:**
- 전체 수정 줄 수: 400~600줄 (테이블 구조화로 인한 증가)
- 기능 변경: 없음 (렌더링 방식만 개선)

### 4.3 총 작업량

| Phase | 작업 | 시간 |
|-------|------|------|
| 1 | CSS 클래스 불일치 수정 | 0.5시간 |
| 2 | 신규 CSS 작성 + 테스트 | 2시간 |
| 3 | seed.py 마이그레이션 + 테스트 | 6시간 |
| 4 | 통합 테스트 + 배포 준비 | 1시간 |
| **합계** | **전체 구현** | **9.5시간** |

**예상 캘린더:**
- 1 개발자, 1일 집중 작업 가능
- 또는 2 개발자, 반나절 각각

---

## 5. 기대 효과

### 5.1 사용자 관점

| 개선 사항 | Before | After |
|---------|--------|-------|
| 비교표 가독성 | 마크다운 테이블 | 구조화된 카드 |
| 플로우 이해도 | ASCII 텍스트 | 시각적 단계 박스 |
| 계층 구조 파악 | 들여쓰기 텍스트 | 피라미드/트리 |
| 시각적 매력도 | 낮음 | 높음 |
| 모바일 호환성 | 낮음 | 중간 (태블릿부터) |

### 5.2 기술 관점

| 지표 | Before | After |
|------|--------|-------|
| 시맨틱 HTML | 낮음 | 높음 |
| CSS 구조화 | 기본적 | 컴포넌트 기반 |
| 다크모드 대응 | 기존 6종 | 12종 (신규 6종 추가) |
| 반응형 설계 | 기본 | 전면 개선 |
| 접근성 | 미검증 | WCAG AA 기준 |

### 5.3 유지보수성

| 항목 | 개선 사항 |
|------|----------|
| CSS 재사용성 | 6가지 새로운 재사용 가능한 패턴 |
| 콘텐츠 추가 | 새 콘텐츠 추가 시 즉시 컴포넌트 활용 가능 |
| 디자인 일관성 | 모든 도식이 통일된 스타일 적용 |
| 버그 수정 | 컴포넌트 단위 수정으로 다중 항목 동시 개선 |

---

## 6. 위험 요소 및 완화 방안

### 6.1 위험 목록

| 위험 | 확률 | 영향 | 완화 방안 |
|------|------|------|---------|
| 렌더링 브레이크 | 중 | 높음 | Phase별 테스트, git revert 준비 |
| 성능 저하 | 중 | 중간 | CSS 크기 모니터링, 최소화 고려 |
| 다크모드 대비도 | 중 | 중간 | 색상 검증 도구 사용, 수동 검증 |
| 반응형 깨짐 | 중 | 중간 | 다양한 너비에서 테스트 |
| 브라우저 호환성 | 낮음 | 중간 | flexbox/grid 지원 범위 확인 |

### 6.2 롤백 계획

```bash
# Phase 2 이후 문제 발생 시
git revert <Phase-2-commit-hash>

# Phase 3 이후 문제 발생 시
git revert <Phase-3-commit-hash>
```

---

## 7. 다음 단계

### Immediate (다음 1주)
1. [ ] 설계 검토 및 승인
2. [ ] Phase 1 수행 (CSS 클래스 수정)
3. [ ] Phase 2 수행 (신규 CSS 작성)

### Short-term (2~3주)
1. [ ] Phase 3 수행 (seed.py 마이그레이션)
2. [ ] Phase 4 수행 (통합 테스트)
3. [ ] 라이브 배포

### Medium-term (1개월 이후)
1. [ ] 사용자 피드백 수집
2. [ ] CSS 성능 최적화 (필요시)
3. [ ] 모바일 반응형 개선 고려

---

## 8. 참고 문서

| 문서 | 내용 |
|------|------|
| `docs/31-visual-components-design.md` | 상세 설계 문서 (컴포넌트별 HTML/CSS/다크모드) |
| `docs/32-implementation-checklist.md` | 단계별 구현 체크리스트 (Task 레벨 상세) |
| `docs/33-visual-design-summary.md` | 이 문서 (전체 요약) |

---

## 9. 결론

**현황:** 67개 도식 중 19개 미시각화 상태
**해결책:** 6개 신규 CSS 컴포넌트 설계 + 34개 항목 마이그레이션
**규모:** 533줄 CSS + 400~600줄 seed.py 수정
**시간:** 9.5시간 (1 개발자 기준)
**기대효과:** 시각적 매력도 + 접근성 + 사용자 경험 동시 개선

---

**문서 버전:** v1.0
**작성 일자:** 2026-02-22
**담당:** ux-designer, frontend-dev
**상태:** 설계 완료, 구현 준비

